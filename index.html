<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Gvm by grazies</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Gvm</h1>
      <h2 class="project-tagline">Go Version Manager</h2>
      <a href="https://github.com/grazies/gvm" class="btn">View on GitHub</a>
      <a href="https://github.com/grazies/gvm/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/grazies/gvm/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="gvm" class="anchor" href="#gvm" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>gvm</h1>

<p><a href="https://travis-ci.org/moovweb/gvm"><img src="https://travis-ci.org/moovweb/gvm.svg?branch=master" alt="Build Status"></a></p>

<p>by Josh Bussdieker (jbuss, jaja, jbussdieker)</p>

<p>GVM provides an interface to manage Go versions.</p>

<h1>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h1>

<ul>
<li>Install/Uninstall Go versions with <code>gvm install [tag]</code> where tag is "60.3", "go1", "weekly.2011-11-08", or "tip"</li>
<li>List added/removed files in GOROOT with <code>gvm diff</code>
</li>
<li>Manage GOPATHs with <code>gvm pkgset [create/use/delete] [name]</code>. Use <code>--local</code> as <code>name</code> to manage repository under local path (<code>/path/to/repo/.gvm_local</code>).</li>
<li>List latest release tags with <code>gvm listall</code>. Use <code>--all</code> to list weekly as well.</li>
<li>Cache a clean copy of the latest Go source for multiple version installs.</li>
<li>Link project directories into GOPATH</li>
</ul>

<h1>
<a id="background" class="anchor" href="#background" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Background</h1>

<p>When we started developing in Go mismatched dependencies and API changes plauged our build process and made it extremely difficult to merge with other peoples changes.</p>

<p>After nuking my entire GOROOT several times and rebuilding I decided to come up with a tool to oversee the process. It eventually evolved into what gvm is today.</p>

<h1>
<a id="installing" class="anchor" href="#installing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing</h1>

<p>To install:</p>

<pre><code>bash &lt; &lt;(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)
</code></pre>

<p>Or if you are using zsh just change <code>bash</code> with <code>zsh</code></p>

<h1>
<a id="installing-go" class="anchor" href="#installing-go" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing Go</h1>

<pre><code>gvm install go1.4
gvm use go1.4 [--default]
</code></pre>

<p>Once this is done Go will be in the path and ready to use. $GOROOT and $GOPATH are set automatically.</p>

<p>Additional options can be specified when installing Go:</p>

<pre><code>Usage: gvm install [version] [options]
    -s,  --source=SOURCE      Install Go from specified source.
    -n,  --name=NAME          Override the default name for this version.
    -pb, --with-protobuf      Install Go protocol buffers.
    -b,  --with-build-tools   Install package build tools.
    -B,  --binary             Only install from binary.
         --prefer-binary      Attempt a binary install, falling back to source.
    -h,  --help               Display this message.
</code></pre>

<h3>
<a id="a-note-on-compiling-go-15" class="anchor" href="#a-note-on-compiling-go-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A Note on Compiling Go 1.5</h3>

<p>Go 1.5+ removed the C compilers from the toolchain and <a href="https://docs.google.com/document/d/1OaatvGhEAq7VseQ9kkavxKNAfepWy2yhPUBs96FGV28/edit">replaced</a> them with one written in Go. Obviously, this creates a bootstrapping problem if you don't already have a working Go install. In order to compile Go 1.5+, make sure Go 1.4 is installed first.</p>

<pre><code>gvm install go1.4 -B
gvm use go1.4
export GOROOT_BOOTSTRAP=$GOROOT
gvm install go1.5
</code></pre>

<h1>
<a id="list-go-versions" class="anchor" href="#list-go-versions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>List Go Versions</h1>

<p>To list all installed Go versions (The current version is prefixed with "=&gt;"):</p>

<pre><code>gvm list
</code></pre>

<p>To list all Go versions available for download:</p>

<pre><code>gvm listall
</code></pre>

<h1>
<a id="uninstalling" class="anchor" href="#uninstalling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Uninstalling</h1>

<p>To completely remove gvm and all installed Go versions and packages:</p>

<pre><code>gvm implode
</code></pre>

<p>If that doesn't work see the troubleshooting steps at the bottom of this page.</p>

<h1>
<a id="mac-os-x-requirements" class="anchor" href="#mac-os-x-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mac OS X Requirements</h1>

<ul>
<li>Install Mercurial from <a href="https://www.mercurial-scm.org/downloads">https://www.mercurial-scm.org/downloads</a>
</li>
<li>Install Xcode Command Line Tools from the App Store.</li>
</ul>

<pre><code>xcode-select --install
brew update
brew install mercurial
</code></pre>

<h1>
<a id="linux-requirements" class="anchor" href="#linux-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linux Requirements</h1>

<h1>
<a id="debianubuntu" class="anchor" href="#debianubuntu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Debian/Ubuntu</h1>

<pre><code>sudo apt-get install curl git mercurial make binutils bison gcc build-essential
</code></pre>

<h1>
<a id="redhatcentos" class="anchor" href="#redhatcentos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redhat/Centos</h1>

<pre><code>sudo yum install curl
sudo yum install git
sudo yum install make
sudo yum install bison
sudo yum install gcc
sudo yum install glibc-devel
</code></pre>

<ul>
<li>Install Mercurial from <a href="http://pkgs.repoforge.org/mercurial/">http://pkgs.repoforge.org/mercurial/</a>
</li>
</ul>

<h1>
<a id="freebsd-requirements" class="anchor" href="#freebsd-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FreeBSD Requirements</h1>

<pre><code>sudo pkg_add -r bash
sudo pkg_add -r git
sudo pkg_add -r mercurial
</code></pre>

<h1>
<a id="vendoring-native-code-and-dependencies" class="anchor" href="#vendoring-native-code-and-dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Vendoring Native Code and Dependencies</h1>

<p>GVM supports vendoring package set-specific native code and related
dependencies, which is useful if you need to qualify a new configuration
or version of one of these dependencies against a last-known-good version
in an isolated manner.  Such behavior is critical to maintaining good release
engineering and production environment hygiene.</p>

<p>As a convenience matter, GVM will furnish the following environment variables to
aid in this manner if you want to decouple your work from what the operating
system provides:</p>

<ol>
<li><p><code>${GVM_OVERLAY_PREFIX}</code> functions in a manner akin to a root directory
hierarchy suitable for auto{conf,make,tools} where it could be passed in
to <code>./configure --prefix=${GVM_OVERLAY_PREFIX}</code> and not conflict with any
existing operating system artifacts and hermetically be used by your
workspace.  This is suitable to use with <code>C{PP,XX}FLAGS and LDFLAGS</code>, but you will have
to manage these yourself, since each tool that uses them is different.</p></li>
<li><p><code>${PATH}</code> includes <code>${GVM_OVERLAY_PREFIX}/bin</code> so that any tools you
manually install will reside there, available for you.</p></li>
<li><p><code>${LD_LIBRARY_PATH}</code> includes <code>${GVM_OVERLAY_PREFIX}/lib</code> so that any
runtime library searching can be fulfilled there on FreeBSD and Linux.</p></li>
<li><p><code>${DYLD_LIBRARY_PATH}</code> includes <code>${GVM_OVERLAY_PREFIX}/lib</code> so that any
runtime library searching can be fulfilled there on Mac OS X.</p></li>
<li><p><code>${PKG_CONFIG_PATH}</code> includes <code>${GVM_OVERLAY_PREFIX}/lib/pkgconfig</code> so
that <code>pkg-config</code> can automatically resolve any vendored dependencies.</p></li>
</ol>

<p>Recipe for success:</p>

<pre><code>gvm use go1.1
gvm pkgset use current-known-good
# Let's assume that this includes some C headers and native libraries, which
# Go's CGO facility wraps for us.  Let's assume that these native
# dependencies are at version V.
gvm pkgset create trial-next-version
# Let's assume that V+1 has come along and you want to safely trial it in
# your workspace.
gvm pkgset use trial-next-version
# Do your work here replicating current-known-good from above, but install
# V+1 into ${GVM_OVERLAY_PREFIX}.
</code></pre>

<p>See examples/native for a working example.</p>

<h1>
<a id="troubleshooting" class="anchor" href="#troubleshooting" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Troubleshooting</h1>

<p>Sometimes especially during upgrades the state of gvm's files can get mixed up. This is mostly true for upgrade from older version than 0.0.8. Changes are slowing down and a LTR is imminent. But for now <code>rm -rf ~/.gvm</code> will always remove gvm. Stay tuned!</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/grazies/gvm">Gvm</a> is maintained by <a href="https://github.com/grazies">grazies</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
